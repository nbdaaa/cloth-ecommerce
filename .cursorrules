# Cursor Rules

## Instructions

- Record fixes for mistakes or corrections to avoid repetition in the `Lessons` section.
- Organize thoughts and plan steps before starting a task in the `Scratchpad` section.
- Clear old tasks if necessary.
- Use todo markers for progress tracking:
  - `[X]` Completed tasks
  - `[ ]` Pending tasks
- Update Scratchpad after completing subtasks.
- Reflect and plan after milestones for better task management.
- Always refer to Scratchpad before planning the next step.

## Lessons

## Scratchpad

### E-Commerce Website Development Plan

#### Phase 1: Project Setup and Configuration
- [X] Initialize Next.js 15 project with TypeScript
- [X] Set up project structure and folder organization
- [X] Configure ESLint and Prettier
- [X] Install and configure required dependencies:
  - [X] Shadcn/ui components
  - [X] Lucide icons
  - [X] Zod for schema validation
  - [X] Zustand for state management
  - [X] Recharts for data visualization
  - [X] Resend for email functionality
  - [X] Uploadthing for file uploads
  - [X] Prisma ORM
  - [X] PostgreSQL database
  - [X] NextAuth.js beta for authentication
  - [X] Stripe for payments
- [X] Set up Prisma with PostgreSQL

### Phase 2: Database and Authentication 

- [X] Set up PostgreSQL database
- [X] Configure Prisma schema:
  - [X] User model
  - [X] Product model
  - [X] Category model
  - [X] Order model
  - [X] Review model
  - [X] Cart model
- [X] Seed sample data (categories, products, users)
- [X] Implement NextAuth.js authentication:
  - [X] Email/Password
  - [X] OAuth providers (Google, GitHub)
  - [X] JWT handling
  - [X] Protected routes

#### Phase 3: Core Features Development
- [X] Home Layout:
  - [X] Create `(home)` folder in `app` directory
  - [X] Header with logo, search bar, and navigation
  - [X] Footer with links and social media
- [X] Homepage:
  - [X] Banner carousel
  - [X] Latest products
- [X] Create basic category pages
- [X] Product detail pages
- [X] Shopping cart implementation
- [X] Add user profile management
- [X] Implement wishlist functionality
- [X] Implement checkout

#### Phase 4: Admin Dashboard
- [X] Admin authentication and authorization
- [X] Dashboard overview:
  - [X] Layout and Structure:
    - [X] Create admin dashboard layout with sidebar navigation
    - [X] Implement responsive grid for dashboard widgets
    - [X] Add loading states and error boundaries
  - [X] Key Metrics Cards:
    - [X] Total revenue widget with real data
    - [X] Total orders widget with real data
    - [X] Total customers widget with real data
    - [X] Average order value widget with real data
  - [X] Sales Analytics:
    - [X] Revenue Chart:
      - [X] Implement line chart using Recharts
      - [X] Add daily/weekly/monthly/yearly filters
      - [X] Show revenue trends over time
      - [X] Add tooltip with detailed information
    - [X] Order Statistics:
      - [X] Bar chart for order volume
      - [X] Order status distribution
      - [X] Peak ordering times
  - [X] Recent Orders Table:
    - [X] Implement data table with columns:
      - [X] Order ID
      - [X] Customer name
      - [X] Order total
      - [X] Status
      - [X] Date
    - [X] Add sorting and filtering
    - [X] Quick actions (view, process, update status)
  - [X] Low Stock Alerts:
    - [X] Products with stock below threshold
    - [X] Quick restock actions
    - [X] Stock level indicators
  - [X] Top Products:
    - [X] Best-selling products list
    - [X] Revenue by product
    - [X] Stock status
  - [ ] Customer Insights:
    - [ ] New vs returning customers
    - [ ] Customer acquisition chart
    - [ ] Top customers by revenue
  - [ ] Real-time Updates:
    - [ ] Implement WebSocket connection
    - [ ] Live order notifications
    - [ ] Stock level updates
  - [ ] Export and Reports:
    - [ ] CSV/PDF export functionality
    - [ ] Custom date range selection
    - [ ] Report generation
- [ ] Product management:
  - [ ] CRUD operations
  - [ ] Bulk actions
  - [ ] Image upload (Uploadthing)
- [ ] Order management:
  - [ ] Order processing
  - [ ] Status updates
  - [ ] Refund handling
- [ ] User management:
  - [ ] Customer list
  - [ ] Admin privileges
  - [ ] User actions

#### Phase 5: Advanced Features
- [ ] Implement search functionality
- [ ] Add product reviews and ratings
- [ ] Create recommendation engine
- [ ] Set up email notifications with Resend
  - [ ] Order confirmations
  - [ ] Shipping updates
  - [ ] Password resets
  - [ ] Marketing emails
- [ ] Build promotion and discount system
- [ ] Implement inventory tracking
- [ ] Add multi-currency support
- [ ] Create SEO optimization features

#### Phase 6: Testing and Deployment
- [ ] Write unit and integration tests
- [ ] Perform security testing and audits
- [ ] Optimize performance and loading times
- [ ] Set up CI/CD pipeline
- [ ] Deploy application to production
- [ ] Configure monitoring and error tracking
- [ ] Create documentation for maintenance and updates